# ğŸš€ AI-Powered Loan Eligibility & Risk Scoring System  

This project implements a **machine learning system** to predict **loan default risk** using an **XGBoost model**, served via a **FastAPI backend**.  

It includes:  
- Data preprocessing  
- Feature engineering  
- Model training & evaluation  
- Visualizations to provide insights into loan risk factors  

ğŸ‘‰ The system assists in loan eligibility decisions by generating a **risk score** for borrowers.  

---

## ğŸ“Œ Project Overview  

- **ğŸ¯ Objective**: Predict the probability of loan default based on borrower features.  
- **ğŸ¤– Model**: XGBoost classifier with **SMOTE + RandomUnderSampler** for class imbalance.  
- **ğŸ› ï¸ Features**: 19 features (engineered ones like `IncomeRisk`, `CreditScoreRisk`, `PaymentToIncome`).  
- **âš¡ API**: FastAPI endpoints for prediction (`/predict`) and model info (`/model_info`).  
- **ğŸ“Š Visualizations**: Correlation heatmap, class imbalance, risk segmentation, precision-recall curve, and feature importance plots.  

---

## âš™ï¸ Setup  

### âœ… Prerequisites  
- Python **3.8+**  
- Git  
- Jupyter Notebook (Colab also works)  

---

### ğŸ› ï¸ Installation  

```bash
# Clone the repository
git clone <your-repo-url>
cd loan-risk-scoring

# Install dependencies
pip install -r requirements.txt

## ğŸ”— API Endpoints  

###  POST `/predict` â†’ Predict Loan Default Risk Score  

```json
# ğŸ“¥ Input
{
  "Income": 55000,
  "LoanAmount": 12000,
  "CreditScore": 680,
  "MonthsEmployed": 24,
  "NumCreditLines": 2,
  "InterestRate": 7.0,
  "LoanTerm": 48,
  "DTIRatio": 0.4,
  "HasMortgage": "Yes",
  "HasCoSigner": "No",
  "HasDependents": "No",
  "Age": 28,
  "EmploymentType": "Full-time",
  "LoanPurpose": "Auto"
}

# ğŸ“¤ Output
{
  "risk_score": 0.27
}


### GET `/model_info` â†’ return model metrics

# ğŸ“¤ Output
{
  "metrics": {
    "accuracy": 0.88,
    "roc_auc": 0.92,
    "confusion_matrix": [[60075, 7606], [5738, 3155]]
  },
  "features": [
    "IncomeRisk", "LoanAmount", "CreditScoreRisk", "MonthsEmployedRisk",
    "NumCreditLines", "InterestRate", "LoanTerm", "DTIRatio",
    "HasMortgage", "HasCoSigner", "AgeRisk", "HasDependents",
    "Emp_Full-time", "Emp_Self-employed", "Emp_Unemployed", "Emp_Part-time",
    "PaymentToIncome", "CreditScore_num", "EmploymentStabilityFlag"
  ],
  "feature_importance": {
    "IncomeRisk": 0.12,
    "LoanAmount": 0.08,
    "CreditScoreRisk": 0.15,
    "PaymentToIncome": 0.11,
    "CreditScore_num": 0.13,
    ...
  }
}
``` 

## ğŸ“Š Visualizations

Below are the visual outputs generated by the system:

### ğŸ”¥ Correlation Heatmap
Shows correlations between numerical features and the target (`Default`).
![Correlation Heatmap](plots/heatmap.png)

---

### âš–ï¸ Class Imbalance
Distribution of default (1) vs. non-default (0).
![Class Imbalance](plots/classimbalance.png)

---

### ğŸ· Risk Segmentation
Box plots of key risk-related features segmented by default status.
![Risk Segmentation](plots/risk_segment.png)

---

### ğŸ¯ Precision-Recall Curve
Precision vs. recall trade-off for evaluating model performance.
![Precision-Recall Curve](plots/precision_recall_curve.png)

---

### ğŸŒŸ Feature Importance
Top features contributing to loan default risk predictions.
![Feature Importance](plots/feature_importance.png)
